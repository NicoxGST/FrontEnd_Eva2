<div class="clientes-container">
  <h2>Gesti√≥n de Clientes</h2>

  <form [formGroup]="clienteForm" (ngSubmit)="guardar()" novalidate>
    <div class="form-grid">
      <div class="form-group">
        <label>RUT</label>
        <input type="text" formControlName="rut" placeholder="12.345.678-9" />
        <div class="error" *ngIf="clienteForm.get('rut')?.touched && clienteForm.get('rut')?.errors">
          RUT inv√°lido (formato: 12345678-9)
        </div>
      </div>

      <div class="form-group">
        <label>Nombre</label>
        <input type="text" formControlName="nombre_razon" placeholder="Ej: Mar√≠a Gonz√°lez" />
        <div class="error" *ngIf="clienteForm.get('nombre_razon')?.touched && clienteForm.get('nombre_razon')?.errors">
          Nombre requerido (m√≠nimo 3 caracteres)
        </div>
      </div>

      <div class="form-group">
        <label>Email de Contacto</label>
        <input type="email" formControlName="email_contacto" placeholder="correo@ejemplo.cl" />
        <div class="error" *ngIf="clienteForm.get('email_contacto')?.touched && clienteForm.get('email_contacto')?.errors">
          Correo electr√≥nico inv√°lido
        </div>
      </div>

      <div class="form-group">
        <label>Tel√©fono</label>
        <input type="text" formControlName="telefono" placeholder="987654321" />
        <div class="error" *ngIf="clienteForm.get('telefono')?.touched && clienteForm.get('telefono')?.errors">
          Ingrese un n√∫mero v√°lido (8 a 12 d√≠gitos)
        </div>
      </div>

      <div class="form-group">
        <label>Direcci√≥n de Facturaci√≥n</label>
        <input type="text" formControlName="direccion_facturacion" placeholder="Calle N¬∞123, Ciudad" />
        <div class="error" *ngIf="clienteForm.get('direccion_facturacion')?.touched && clienteForm.get('direccion_facturacion')?.errors">
          Este campo es obligatorio
        </div>
      </div>

      <div class="form-group">
        <label>Estado</label>
        <select formControlName="estado">
          <option value="activo">Activo</option>
          <option value="inactivo">Inactivo</option>
        </select>
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn btn-save" (click)="guardar()">
        {{ editando ? '‚úèÔ∏è Actualizar' : 'üíæ Guardar' }}
      </button>
      <button type="button" class="btn btn-clear" (click)="limpiar()">üßπ Limpiar</button>
    </div>
  </form>

  <hr />

  <h3>Lista de Clientes</h3>
  <table class="tabla-clientes" *ngIf="clientes.length > 0">
    <thead>
    <tr>
      <th>ID</th>
      <th>RUT</th>
      <th>Nombre</th>
      <th>Email</th>
      <th>Tel√©fono</th>
      <th>Direcci√≥n</th>
      <th>Estado</th>
      <th>Acciones</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let c of clientes">
      <td>{{ c.id_cliente }}</td>
      <td>{{ c.rut }}</td>
      <td>{{ c.nombre_razon }}</td>
      <td>{{ c.email_contacto }}</td>
      <td>{{ c.telefono }}</td>
      <td>{{ c.direccion_facturacion }}</td>
      <td>{{ c.estado }}</td>
      <td>
        <button class="btn btn-edit" (click)="editar(c)">‚úèÔ∏è Editar</button>
        <button class="btn btn-delete" (click)="eliminar(c.id_cliente)">üóëÔ∏è Eliminar</button>
      </td>
    </tr>
    </tbody>
  </table>

  <p *ngIf="clientes.length === 0" class="no-data">No hay clientes registrados.</p>
</div>
